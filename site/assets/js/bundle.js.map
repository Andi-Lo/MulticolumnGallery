{"version":3,"names":[],"mappings":"","sources":["bundle.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/**\r\n * Multicolumn image gallery by Andreas Lorer\r\n * http://andreaslorer.de\r\n * \r\n * GNU General Public License, version 2\r\n * http://www.gnu.org/licenses/old-licenses/gpl-2.0.html\r\n *\r\n * Examples and documentation available on the project homepage\r\n * http://andi-lo.github.io/MulticolumnGallery/\r\n * \r\n */\r\n\r\n\r\n// require modules via browserify's 'require' statement\r\nvar columnBuilder = require('./ColumnBuilder');\r\nvar resizeController = require('./ResizeController');\r\nvar scrollController = require('./ScrollController');\r\n\r\nrequire('../magnific-popup/magnific-popup.js');\r\n\r\n// some pseudo constants for better reading\r\nvar REQUEST_PENDING = 2;\r\nvar REQUEST_SUCCESS = 4;\r\n\r\n// the ajax data request result object\r\nvar requestResult;\r\n\r\n// static property\r\nvar galleryController = (function() {\r\n  var galleryController = ''; // This is the private persistent value\r\n   return function() { return galleryController; }; \r\n})(); // Invoke the outer function after defining it.\r\n\r\n\r\n// static property\r\nvar colBuilder = (function() {\r\n  var colBuilder = ''; // This is the private persistent value\r\n   return function() { return colBuilder; };\r\n})(); // Invoke the outer function after defining it.\r\n\r\n\r\n// this is the js entry point. After loading the dom, get startet to request the gallery.php file\r\nwindow.addEventListener('DOMContentLoaded', function(){\r\n  var gal = new GalleryFactory();\r\n  gal.requestGallery();\r\n\r\n}, false);\r\n\r\n/**\r\n * After the ajax request success, create controller instances and add event listeners to the document\r\n */\r\nvar addControllers = function (){\r\n  var scrlCtrl = new scrollController(requestResult, colBuilder);\r\n  var resizeCtrl = new resizeController(requestResult, colBuilder);\r\n  galleryController = {'scrlCtrl': scrlCtrl, 'resizeCtrl': resizeCtrl};\r\n\r\n  resizeCtrl.setController(galleryController);\r\n  scrlCtrl.setController(galleryController);\r\n\r\n  window.addEventListener('scroll', scrollWrapper, false);\r\n  window.addEventListener('resize', updateWidth, false);\r\n  window.addEventListener('resize', resizeWrapper, false);\r\n  return galleryController;\r\n};\r\n\r\nvar scrollWrapper = function() {\r\n  galleryController.scrlCtrl.handleScroll(colBuilder, galleryController, requestResult);\r\n};\r\n\r\nvar resizeWrapper = function() {\r\n  galleryController.resizeCtrl.handleResize(colBuilder, galleryController, requestResult);\r\n};\r\n\r\nvar updateWidth = function() {\r\n  galleryController.scrlCtrl.updateWidth(galleryController);\r\n};\r\n\r\n/**\r\n * Gallery Factory for creating gallery Objects\r\n * Makes the Ajax server request to get the gallery.php file\r\n */\r\nvar GalleryFactory = function () {\r\n  'use strict';\r\n\r\n  this.hasColumns = -1;\r\n  this.columns = 0;\r\n  this.names = \"\";\r\n  this.resize = \"\";\r\n  this.fadeIn = \"\";\r\n  this.columnHeight = \"\";\r\n  this.galleryHeight = 0;\r\n  this.gallery = document.getElementById('gallery');\r\n  this.galleryWidth = gallery.offsetWidth;\r\n  this.galleryHeight = gallery.offsetHeight;\r\n  this.windowWidth = window.innerWidth;\r\n  this.windowHeight = window.innerHeight;\r\n  this.sData = {\r\n                'width': this.windowWidth,\r\n                'galleryWidth': this.galleryWidth\r\n               };\r\n\r\n  /**\r\n   * urlEncodes an object to send it via post\r\n   * @param  {Object} object Object with key value pairs\r\n   * @return {String}        string in format key=value&foo=bar\r\n   */\r\n  var urlEncode = function (object) {\r\n    var encodedString = '';\r\n    for (var prop in object) {\r\n      if (object.hasOwnProperty(prop)) {\r\n        if (encodedString.length > 0) {\r\n            encodedString += '&';\r\n        }\r\n        encodedString += encodeURI(prop + '=' + object[prop]);\r\n      }\r\n    }\r\n    return encodedString;\r\n  };\r\n\r\n  /**\r\n   * Sends an Ajax request to the server and recieves the gallery\r\n   * @return {boolean}     true on success false on failure\r\n   */\r\n  this.requestGallery = function() {\r\n    var request = new XMLHttpRequest();\r\n    request.open('POST', 'php/Gallery.php', true);\r\n    request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\r\n\r\n    // check ajax requests states and show a spinner while request is pending\r\n    request.onreadystatechange = function(){\r\n      switch(request.readyState) {\r\n        case REQUEST_PENDING:\r\n          // console.log('pending');\r\n          document.getElementsByClassName('ajax-loading')[0].style.display = 'block';\r\n          break;\r\n        case REQUEST_SUCCESS:\r\n          // console.log('success');\r\n          document.getElementsByClassName('ajax-loading')[0].style.display = 'none';\r\n      }\r\n    };\r\n\r\n    // handles the ajax onload event\r\n    request.onload = function() {\r\n\r\n      if (request.status >= 200 && request.status < 400) {\r\n\r\n        /* Success! */\r\n        var data = JSON.parse(request.responseText);\r\n        // console.log(data);\r\n        requestResult = data;\r\n        colBuilder = new columnBuilder.ColumnBuilder(requestResult);\r\n        this.columns = data.numOfColumns;\r\n        this.queries = data.mediaQueries;\r\n        this.names = data.columnNames;\r\n        this.resize = data.resize;\r\n        this.fadeIn = data.fadeIn;\r\n        this.columnHeight = data.columnHeight;\r\n        this.activeColumn = data.activeColumn +\"_Columns\";\r\n        this.galleryHeight = data.galleryHeight;\r\n\r\n        var controller = addControllers();\r\n        \r\n        for (var i = 0; i < this.columns; i++) {\r\n          if(i === 0){\r\n            colBuilder.buildColumn(this.names[i], requestResult);\r\n            controller.scrlCtrl.refreshScreen(controller.scrlCtrl);\r\n          }else{\r\n            if(window.innerWidth >= this.queries[i]){\r\n              colBuilder.buildColumn(this.activeColumn, requestResult);\r\n              controller.scrlCtrl.refreshScreen(controller.scrlCtrl);\r\n            }\r\n          }\r\n        }\r\n        return true;\r\n      } else {\r\n        /* We reached our target server, but it returned an error */\r\n        return false;\r\n      }\r\n    };\r\n\r\n    // ajax request failed\r\n    request.onerror = function() {\r\n      console.log(\"Ajax Error: \"+ err);\r\n      return false;\r\n    };\r\n\r\n    /* send ajax request to server */\r\n    request.send(urlEncode(this.sData));\r\n    return true;\r\n  };\r\n};\n},{\"../magnific-popup/magnific-popup.js\":5,\"./ColumnBuilder\":2,\"./ResizeController\":3,\"./ScrollController\":4}],2:[function(require,module,exports){\n/*\r\n * Multicolumn image gallery by Andreas Lorer\r\n * http://andreaslorer.de\r\n *\r\n * GNU General Public License, version 2\r\n * http://www.gnu.org/licenses/old-licenses/gpl-2.0.html\r\n *\r\n * Examples and documentation available on the project homepage\r\n * http://bithugger.github.io/MulticolumnGallery/\r\n *\r\n */\r\n\r\n/**\r\n * Build html columns out of the data gotten from the Ajax request\r\n * @param  {String} columnName    the columns name\r\n * @param  {object} requestResult an object containing the requests data\r\n * @method {int}    getTmpColumn()\r\n * @exports tmpColumn\r\n * @exports ColumnBuiler\r\n */\r\nvar ColumnBuilder = function () {\r\n  'use strict';\r\n\r\n  this.buildColumn = function (columnName, requestResult) {\r\n    var galleryHeight = requestResult.galleryHeight;\r\n    var tmp = columnName.split('_');\r\n    var columnNumber = parseInt(tmp[0], 10) - 1;\r\n    var gallery = document.getElementById('gallery');\r\n    var winHeight = window.innerHeight + window.pageYOffset;\r\n    var images = gallery.getElementsByClassName('mult-image');\r\n    var galleryPosY = gallery.getBoundingClientRect().top;\r\n\r\n    if (tmpColumn != columnNumber) {\r\n      tmpColumn = columnNumber;\r\n      gallery.setAttribute('style', 'height: '+ galleryHeight[columnNumber]+'px;');\r\n\r\n      if(images.length !== 0){\r\n        for (var i = images.length - 1; i >= 0; i--) {\r\n          images[i].remove();\r\n        }\r\n      }\r\n\r\n      requestResult[columnName].forEach(function(image, i){\r\n        if (typeof image == 'object' && image !== null) {\r\n          var elem;\r\n          // console.log('img pos ' + (image.posY + galleryPosY) + ' wh: ' + (winHeight+300));\r\n          /* image position is in the users screensize -> image is visible */\r\n          if (image.posY <= winHeight && galleryPosY <= winHeight){\r\n            elem = buildImageElement(image, 'visible');\r\n            gallery.appendChild(elem);    \r\n          }\r\n          else if ((image.posY + galleryPosY) <= winHeight + 200) {\r\n            // console.log('img pos ' + (image.posY + galleryPosY) + ' wh: ' + (winHeight+200));\r\n            elem = buildImageElement(image, 'hidden');\r\n            gallery.appendChild(elem);\r\n          }\r\n        } else\r\n          return false;\r\n      });\r\n      return true;\r\n    }\r\n  };\r\n\r\n  var buildImageElement = function (image, visiblity) {\r\n    var outerImg = document.createElement('a');\r\n    var innerImg = document.createElement('img');\r\n    var opacity = visiblity == 'visible' ? 1 : 0;\r\n\r\n    outerImg.setAttribute('class', 'mult-image');\r\n    outerImg.setAttribute('href', image.imgPath);\r\n    outerImg.setAttribute('title', image.imgName);\r\n\r\n    innerImg.setAttribute('class', \"mult-image-inner\");\r\n    innerImg.setAttribute('style', 'position:absolute; top:' + image.posY + 'px; left:' + image.posX + 'px; width:' + image.width + 'px; height:' + image.height  + 'px; visibility:' + visiblity + '; ' + 'opacity: ' + opacity + ';');\r\n    innerImg.setAttribute('src',  image.thumbPath);\r\n    innerImg.setAttribute('alt', image.imgName);\r\n    innerImg.setAttribute('width', image.width);\r\n    innerImg.setAttribute('height', image.height);\r\n\r\n    outerImg.appendChild(innerImg);\r\n    return outerImg;\r\n  };\r\n\r\n  this.addImgToColumn = function (columnName, scrollPos, requestResult) {\r\n    var elem = \"\";\r\n    var gallery = document.getElementById('gallery');\r\n    var galleryPosY = gallery.getBoundingClientRect().top;\r\n    var activeColumn = requestResult.activeColumn;\r\n\r\n    requestResult[columnName].forEach(function(image, i){\r\n      if (typeof image == 'object' && image !== null) {\r\n        // console.log(image.id + ' ' + imgId + ' ' +  (image.id - imgId));\r\n        if (image.id > imgId && (image.id - imgId <= 1)) {\r\n          // image gets loaded but is hidden till user scrolls there\r\n          if (activeColumn == \"1_Columns\" && (image.posY + galleryPosY) <= scrollPos + 500) {\r\n            elem = buildImageElement(image, 'hidden');\r\n            gallery.appendChild(elem);\r\n            imgId = image.id;\r\n          } else if ((image.posY + galleryPosY) <= scrollPos + 200) {\r\n            elem = buildImageElement(image, 'hidden');\r\n            gallery.appendChild(elem);\r\n            imgId = image.id;\r\n          } else\r\n            return;\r\n        } else\r\n          return;\r\n      } else\r\n        return;\r\n    });\r\n\r\n    return true;\r\n  }; // end addImgToColumn\r\n};\r\n\r\nColumnBuilder.prototype.getTmpColumn = function() {\r\n  return tmpColumn;\r\n};\r\n\r\n// static varibles\r\n\r\nvar tmpColumn = (function() {\r\n   var tmpColumn = -1; // This is the private persistent value\r\n   // The outer function returns a nested function that has access\r\n   // to the persistent value.  It is this nested function we're storing\r\n   // in the variable uniqueID above.\r\n   return function() { return tmpColumn; };  // Return and increment\r\n})(); // Invoke the outer function after defining it.\r\n\r\nvar imgId = -1;\r\n\r\nmodule.exports.tmpColumn = tmpColumn;\r\nmodule.exports.ColumnBuilder = ColumnBuilder;\r\n\n},{}],3:[function(require,module,exports){\n/*\r\n * Multicolumn image gallery by Andreas Lorer\r\n * http://andreaslorer.de\r\n * \r\n * GNU General Public License, version 2\r\n * http://www.gnu.org/licenses/old-licenses/gpl-2.0.html\r\n *\r\n * Examples and documentation available on the project homepage\r\n * http://andi-lo.github.io/MulticolumnGallery/\r\n * \r\n */\r\n\r\n\r\n/**\r\n * Controller-Class for handling Resize events\r\n * @methods handleResize(ColumnBuilder, GalleryController, collection)\r\n * @exports ResizeController\r\n */\r\nvar ResizeController = function(requestResult, columnBuilder){\r\n  'use strict';\r\n\r\n  this.requestResult = requestResult;\r\n  this.winWidth = window.innerWidth;\r\n  this.winHeight = window.innerHeight;\r\n  this.names = requestResult.columnNames;\r\n  this.columns = requestResult.numOfColumns;\r\n  this.queries = requestResult.mediaQueries;\r\n  this.resize = requestResult.resize;\r\n  this.galleryCtrl = '';\r\n  this.columnBuilder = columnBuilder;\r\n  \r\n  this.getColumnBuilder = function() {\r\n    return this.columnBuilder;\r\n  };\r\n\r\n  this.getGalleryController = function(){\r\n    return this.galleryCtrl;\r\n  };\r\n\r\n};\r\n\r\nResizeController.prototype.setController = function(galleryCtrl){\r\n  this.galleryCtrl = galleryCtrl;\r\n};\r\n\r\n/**\r\n * Handler for the onresize event\r\n * @param  {ColumnBuilder} colBuilder         A Columnbuilder object \r\n * @param  {GalleryController} galleryCtrl    The galleryControler instance\r\n * @param  {Collection} requestResult         The Ajax request result data\r\n */\r\nResizeController.prototype.handleResize = function(colBuilder, galleryCtrl, requestResult) {\r\n  var resizeCtrl = galleryCtrl.resizeCtrl;\r\n  var scrlCtrl = galleryCtrl.scrlCtrl;\r\n  var names = requestResult.columnNames;\r\n  var columns = requestResult.numOfColumns;\r\n  var queries = requestResult.mediaQueries;\r\n  var resize = requestResult.resize;\r\n\r\n  /* if in config.json file \"resize\" is set to \"yes\" */\r\n  if(resize == 'yes'){\r\n    /* handle the first column (1) */\r\n    if(window.innerWidth <= queries[0]){\r\n      colBuilder.buildColumn(names[0], requestResult);\r\n      scrlCtrl.refreshScreen(scrlCtrl);\r\n      return;\r\n    } \r\n\r\n    /* handle the last column (n) */\r\n    else if(window.innerWidth >= queries[queries.length-1]){\r\n      colBuilder.buildColumn(names[columns-1], requestResult);\r\n      scrlCtrl.refreshScreen(scrlCtrl);\r\n      return;\r\n    }\r\n\r\n    /* handle columns between 2 and n-1 */\r\n    else if(window.innerWidth >= queries[0]){\r\n      for (var query = 0; query <= columns-1; query++){\r\n        if(window.innerWidth <= queries[query]){\r\n          colBuilder.buildColumn(names[query-1], requestResult);\r\n          scrlCtrl.refreshScreen(scrlCtrl);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nmodule.exports = ResizeController;\r\n\n},{}],4:[function(require,module,exports){\n/**\r\n * Multicolumn image gallery by Andreas Lorer\r\n * http://andreaslorer.de\r\n * \r\n * GNU General Public License, version 2\r\n * http://www.gnu.org/licenses/old-licenses/gpl-2.0.html\r\n *\r\n * Examples and documentation available on the project homepage\r\n * http://andi-lo.github.io/MulticolumnGallery/\r\n * \r\n */\r\n\r\n\r\n/**\r\n * Controller-Class to calculate, observe and manage if the picture visibility \r\n * has to be changed\r\n * @method handleScroll(ColumnBuilder, GalleryController, Collection)\r\n * @method ScrollController(collection, ColumnBuilder)  the constructor\r\n * @method setController(GalleryController)\r\n * @method GalleryController getGalleryController()\r\n * @method setColumnBuilder(ColumnBuilder)\r\n * @method updateWidth(GalleryController)\r\n */\r\nvar ScrollController = function(requestResult, columnBuilder) {\r\n  'use strict';\r\n\r\n  requestResult = requestResult;\r\n  this.scrollEvents = 0;\r\n  this.scrollPosSave = 0;\r\n  this.innerWinHeight = window.innerHeight;\r\n  this.scrollHeight = this.innerWinHeight;\r\n  this.winWidth = window.innerWidth;\r\n  this.timeoutId = 0;\r\n  this.names = requestResult.columnNames;\r\n  this.columnBuilder = columnBuilder;\r\n  this.galleryCtrl = '';\r\n\r\n  this.getColumnBuilder = function() {\r\n    return this.columnBuilder;\r\n  };\r\n\r\n  /**\r\n   * Animation function to animate a fade in effect on a given DOM element\r\n   * (note: this is the Javascript version of JQuery's $.animate)\r\n   * @param  {Element} el  A DOM element\r\n   */\r\n  this.fadeIn = function (el) {\r\n    el[0].style.opacity = 0;\r\n\r\n    var last = +new Date();\r\n    var tick = function() {\r\n      el[0].style.opacity = +el[0].style.opacity + (new Date() - last) / 400;\r\n      last = +new Date();\r\n\r\n      if (+el[0].style.opacity < 1) {\r\n        (window.requestAnimationFrame && requestAnimationFrame(tick)) || setTimeout(tick, 16);\r\n      }\r\n    };\r\n    tick();\r\n  };\r\n\r\n  /**\r\n   * refreshes the users viewport when scrolling through the pictrues\r\n   * @param  {int}              offset    simulate a bigger viewport by increasing it by a number\r\n   * @param  {ScrollController} scrlCtrl  an instance of the ScrollController\r\n   */\r\n  this.refreshScreenOnScroll = function (offset, scrlCtrl) {\r\n    var fadeIn = requestResult.fadeIn;\r\n    var scrlPos = window.pageYOffset;\r\n\r\n    var images = document.getElementsByClassName('mult-image-inner');\r\n\r\n    for (var i = images.length - 1; i >= 0; i--) {\r\n      var style = window.getComputedStyle(images[i]);\r\n      var cssTopValue = parseInt(style.getPropertyValue('top'), 10);\r\n      var isHidden = images[i].style.visibility;\r\n\r\n      /* to see a Visual effect of unhiding a picture I use an offset of e.g. -100 */\r\n      /* != 'NaN' because css.('top') returns the 'top' value and 'auto', parsing 'auto' will return a value or 'NaN' */\r\n      var tmp = scrlPos + 150;\r\n      // console.log(tmp + ' >= ' + cssTopValue + ' ' + isHidden + ' == ishidden');\r\n      if(tmp >= cssTopValue && cssTopValue != 'NaN' && isHidden == 'hidden') {\r\n\r\n        images[i].style.visibility = 'visible';\r\n        if(fadeIn == 'yes'){\r\n          if(images[i].style.opacity < 1) {\r\n            scrlCtrl.fadeIn([images[i]]);\r\n          }\r\n        } \r\n        this.setScrollPosSave(cssTopValue);\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * [refreshScreen description]\r\n   * @return {[type]} [description]\r\n   */\r\n  this.refreshScreen = function (scrlCtrl) {\r\n    var scrlPos = window.pageYOffset;\r\n    var images = document.getElementsByClassName('mult-image-inner');\r\n\r\n    for (var i = images.length - 1; i >= 0; i--) {\r\n      var style = window.getComputedStyle(images[i]);\r\n      var cssTopValue = parseInt(style.getPropertyValue('top'), 10);\r\n      /* to see a Visual effect of unhiding a picture I use an offset of -100px */\r\n      /* != 'NaN' because css.('top') returns the 'top' value and 'auto', parsing 'auto' will return a value or 'NaN' */\r\n      if(scrlPos >= cssTopValue && cssTopValue != 'NaN')\r\n      {\r\n        images[i].style.visibility = 'visible';\r\n        this.setScrollPosSave(cssTopValue);\r\n      }\r\n    }\r\n  };\r\n\r\n};\r\n\r\nScrollController.prototype.getScrollPosSave = function () {\r\n  return this.scrollPosSave;\r\n};\r\n\r\nScrollController.prototype.setScrollPosSave = function (scrollSave) {\r\n  this.scrollPosSave = scrollSave;\r\n};\r\n\r\nScrollController.prototype.setController = function(galleryCtrl){\r\n  this.galleryCtrl = galleryCtrl;\r\n};\r\n\r\nScrollController.prototype.getGalleryController = function(){\r\n  return this.galleryCtrl;\r\n};\r\n\r\nScrollController.prototype.setColumnBuilder = function(columnBuilder) {\r\n  this.columnBuilder = columnBuilder;\r\n};\r\n\r\nScrollController.prototype.updateWidth = function(galleryController){\r\n  var scrlCtrl = galleryController.scrlCtrl;\r\n  scrlCtrl.winWidth = window.innerWidth;\r\n};\r\n\r\n/**\r\n * Handler for the onscroll event\r\n * @param  {ColumnBuilder}      columnBuilder  A columnBuilder object to build columns\r\n * @param  {GalleryController}  galleryCtrl    The galleryController which contains two instances: Scrollcontroller, ResizeController\r\n * @param  {Collection}         requestResult  Ajax request result data collection @see class Ajax\r\n */\r\nScrollController.prototype.handleScroll = function(columnBuilder, galleryCtrl, requestResult){\r\n  var scrlCtrl = galleryCtrl.scrlCtrl;\r\n  var newScrollPos = scrlCtrl.innerWinHeight + window.pageYOffset;\r\n\r\n  /* lazy loading: Adds images depending on the Users scrolling position */\r\n  if(newScrollPos > this.getScrollPosSave()){\r\n    // console.log('newscrlpo: ' + newScrollPos + ' old scrl pos: ' + this.getScrollPosSave());\r\n    if(window.innerWidth > 767){\r\n      scrlCtrl.refreshScreenOnScroll(150, scrlCtrl);\r\n    } \r\n    else{\r\n      if(window.innerWidth <= 768){\r\n        scrlCtrl.refreshScreenOnScroll(300, scrlCtrl);\r\n      }\r\n    }\r\n\r\n    if(scrlCtrl.timeoutId){\r\n      clearTimeout(scrlCtrl.timeoutId);\r\n    }\r\n\r\n    /* if the user scrolled down and not up && the user scrolled down more then 300 pixels*/\r\n    scrlCtrl.timeoutId = setTimeout(function(){\r\n      columnBuilder.addImgToColumn(scrlCtrl.names[columnBuilder.getTmpColumn()], newScrollPos, requestResult);\r\n      scrlCtrl.refreshScreenOnScroll(300, scrlCtrl);\r\n\r\n    }, 50);\r\n    // end timeout\r\n  } \r\n};\r\n\r\nvar requestResult = (function() {\r\n   var requestResult = ''; // This is the private persistent value\r\n   return function() { return requestResult; }; \r\n})(); // Invoke the outer function after defining it.\r\n\r\nmodule.exports = ScrollController;\n},{}],5:[function(require,module,exports){\n// Magnific Popup v0.9.9 by Dmitry Semenov\r\n// http://bit.ly/magnific-popup#build=inline+image+gallery+retina+fastclick\r\n(function(a){var b=\"Close\",c=\"BeforeClose\",d=\"AfterClose\",e=\"BeforeAppend\",f=\"MarkupParse\",g=\"Open\",h=\"Change\",i=\"mfp\",j=\".\"+i,k=\"mfp-ready\",l=\"mfp-removing\",m=\"mfp-prevent-close\",n,o=function(){},p=!!window.jQuery,q,r=a(window),s,t,u,v,w,x=function(a,b){n.ev.on(i+a+j,b)},y=function(b,c,d,e){var f=document.createElement(\"div\");return f.className=\"mfp-\"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},z=function(b,c){n.ev.triggerHandler(i+b,c),n.st.callbacks&&(b=b.charAt(0).toLowerCase()+b.slice(1),n.st.callbacks[b]&&n.st.callbacks[b].apply(n,a.isArray(c)?c:[c]))},A=function(b){if(b!==w||!n.currTemplate.closeBtn)n.currTemplate.closeBtn=a(n.st.closeMarkup.replace(\"%title%\",n.st.tClose)),w=b;return n.currTemplate.closeBtn},B=function(){a.magnificPopup.instance||(n=new o,n.init(),a.magnificPopup.instance=n)},C=function(){var a=document.createElement(\"p\").style,b=[\"ms\",\"O\",\"Moz\",\"Webkit\"];if(a.transition!==undefined)return!0;while(b.length)if(b.pop()+\"Transition\"in a)return!0;return!1};o.prototype={constructor:o,init:function(){var b=navigator.appVersion;n.isIE7=b.indexOf(\"MSIE 7.\")!==-1,n.isIE8=b.indexOf(\"MSIE 8.\")!==-1,n.isLowIE=n.isIE7||n.isIE8,n.isAndroid=/android/gi.test(b),n.isIOS=/iphone|ipad|ipod/gi.test(b),n.supportsTransition=C(),n.probablyMobile=n.isAndroid||n.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),t=a(document),n.popupsCache={}},open:function(b){s||(s=a(document.body));var c;if(b.isObj===!1){n.items=b.items.toArray(),n.index=0;var d=b.items,e;for(c=0;c<d.length;c++){e=d[c],e.parsed&&(e=e.el[0]);if(e===b.el[0]){n.index=c;break}}}else n.items=a.isArray(b.items)?b.items:[b.items],n.index=b.index||0;if(n.isOpen){n.updateItemHTML();return}n.types=[],v=\"\",b.mainEl&&b.mainEl.length?n.ev=b.mainEl.eq(0):n.ev=t,b.key?(n.popupsCache[b.key]||(n.popupsCache[b.key]={}),n.currTemplate=n.popupsCache[b.key]):n.currTemplate={},n.st=a.extend(!0,{},a.magnificPopup.defaults,b),n.fixedContentPos=n.st.fixedContentPos===\"auto\"?!n.probablyMobile:n.st.fixedContentPos,n.st.modal&&(n.st.closeOnContentClick=!1,n.st.closeOnBgClick=!1,n.st.showCloseBtn=!1,n.st.enableEscapeKey=!1),n.bgOverlay||(n.bgOverlay=y(\"bg\").on(\"click\"+j,function(){n.close()}),n.wrap=y(\"wrap\").attr(\"tabindex\",-1).on(\"click\"+j,function(a){n._checkIfClose(a.target)&&n.close()}),n.container=y(\"container\",n.wrap)),n.contentContainer=y(\"content\"),n.st.preloader&&(n.preloader=y(\"preloader\",n.container,n.st.tLoading));var h=a.magnificPopup.modules;for(c=0;c<h.length;c++){var i=h[c];i=i.charAt(0).toUpperCase()+i.slice(1),n[\"init\"+i].call(n)}z(\"BeforeOpen\"),n.st.showCloseBtn&&(n.st.closeBtnInside?(x(f,function(a,b,c,d){c.close_replaceWith=A(d.type)}),v+=\" mfp-close-btn-in\"):n.wrap.append(A())),n.st.alignTop&&(v+=\" mfp-align-top\"),n.fixedContentPos?n.wrap.css({overflow:n.st.overflowY,overflowX:\"hidden\",overflowY:n.st.overflowY}):n.wrap.css({top:r.scrollTop(),position:\"absolute\"}),(n.st.fixedBgPos===!1||n.st.fixedBgPos===\"auto\"&&!n.fixedContentPos)&&n.bgOverlay.css({height:t.height(),position:\"absolute\"}),n.st.enableEscapeKey&&t.on(\"keyup\"+j,function(a){a.keyCode===27&&n.close()}),r.on(\"resize\"+j,function(){n.updateSize()}),n.st.closeOnContentClick||(v+=\" mfp-auto-cursor\"),v&&n.wrap.addClass(v);var l=n.wH=r.height(),m={};if(n.fixedContentPos&&n._hasScrollBar(l)){var o=n._getScrollbarSize();o&&(m.marginRight=o)}n.fixedContentPos&&(n.isIE7?a(\"body, html\").css(\"overflow\",\"hidden\"):m.overflow=\"hidden\");var p=n.st.mainClass;return n.isIE7&&(p+=\" mfp-ie7\"),p&&n._addClassToMFP(p),n.updateItemHTML(),z(\"BuildControls\"),a(\"html\").css(m),n.bgOverlay.add(n.wrap).prependTo(n.st.prependTo||s),n._lastFocusedEl=document.activeElement,setTimeout(function(){n.content?(n._addClassToMFP(k),n._setFocus()):n.bgOverlay.addClass(k),t.on(\"focusin\"+j,n._onFocusIn)},16),n.isOpen=!0,n.updateSize(l),z(g),b},close:function(){if(!n.isOpen)return;z(c),n.isOpen=!1,n.st.removalDelay&&!n.isLowIE&&n.supportsTransition?(n._addClassToMFP(l),setTimeout(function(){n._close()},n.st.removalDelay)):n._close()},_close:function(){z(b);var c=l+\" \"+k+\" \";n.bgOverlay.detach(),n.wrap.detach(),n.container.empty(),n.st.mainClass&&(c+=n.st.mainClass+\" \"),n._removeClassFromMFP(c);if(n.fixedContentPos){var e={marginRight:\"\"};n.isIE7?a(\"body, html\").css(\"overflow\",\"\"):e.overflow=\"\",a(\"html\").css(e)}t.off(\"keyup\"+j+\" focusin\"+j),n.ev.off(j),n.wrap.attr(\"class\",\"mfp-wrap\").removeAttr(\"style\"),n.bgOverlay.attr(\"class\",\"mfp-bg\"),n.container.attr(\"class\",\"mfp-container\"),n.st.showCloseBtn&&(!n.st.closeBtnInside||n.currTemplate[n.currItem.type]===!0)&&n.currTemplate.closeBtn&&n.currTemplate.closeBtn.detach(),n._lastFocusedEl&&a(n._lastFocusedEl).focus(),n.currItem=null,n.content=null,n.currTemplate=null,n.prevHeight=0,z(d)},updateSize:function(a){if(n.isIOS){var b=document.documentElement.clientWidth/window.innerWidth,c=window.innerHeight*b;n.wrap.css(\"height\",c),n.wH=c}else n.wH=a||r.height();n.fixedContentPos||n.wrap.css(\"height\",n.wH),z(\"Resize\")},updateItemHTML:function(){var b=n.items[n.index];n.contentContainer.detach(),n.content&&n.content.detach(),b.parsed||(b=n.parseEl(n.index));var c=b.type;z(\"BeforeChange\",[n.currItem?n.currItem.type:\"\",c]),n.currItem=b;if(!n.currTemplate[c]){var d=n.st[c]?n.st[c].markup:!1;z(\"FirstMarkupParse\",d),d?n.currTemplate[c]=a(d):n.currTemplate[c]=!0}u&&u!==b.type&&n.container.removeClass(\"mfp-\"+u+\"-holder\");var e=n[\"get\"+c.charAt(0).toUpperCase()+c.slice(1)](b,n.currTemplate[c]);n.appendContent(e,c),b.preloaded=!0,z(h,b),u=b.type,n.container.prepend(n.contentContainer),z(\"AfterChange\")},appendContent:function(a,b){n.content=a,a?n.st.showCloseBtn&&n.st.closeBtnInside&&n.currTemplate[b]===!0?n.content.find(\".mfp-close\").length||n.content.append(A()):n.content=a:n.content=\"\",z(e),n.container.addClass(\"mfp-\"+b+\"-holder\"),n.contentContainer.append(n.content)},parseEl:function(b){var c=n.items[b],d;c.tagName?c={el:a(c)}:(d=c.type,c={data:c,src:c.src});if(c.el){var e=n.types;for(var f=0;f<e.length;f++)if(c.el.hasClass(\"mfp-\"+e[f])){d=e[f];break}c.src=c.el.attr(\"data-mfp-src\"),c.src||(c.src=c.el.attr(\"href\"))}return c.type=d||n.st.type||\"inline\",c.index=b,c.parsed=!0,n.items[b]=c,z(\"ElementParse\",c),n.items[b]},addGroup:function(a,b){var c=function(c){c.mfpEl=this,n._openClick(c,a,b)};b||(b={});var d=\"click.magnificPopup\";b.mainEl=a,b.items?(b.isObj=!0,a.off(d).on(d,c)):(b.isObj=!1,b.delegate?a.off(d).on(d,b.delegate,c):(b.items=a,a.off(d).on(d,c)))},_openClick:function(b,c,d){var e=d.midClick!==undefined?d.midClick:a.magnificPopup.defaults.midClick;if(!e&&(b.which===2||b.ctrlKey||b.metaKey))return;var f=d.disableOn!==undefined?d.disableOn:a.magnificPopup.defaults.disableOn;if(f)if(a.isFunction(f)){if(!f.call(n))return!0}else if(r.width()<f)return!0;b.type&&(b.preventDefault(),n.isOpen&&b.stopPropagation()),d.el=a(b.mfpEl),d.delegate&&(d.items=c.find(d.delegate)),n.open(d)},updateStatus:function(a,b){if(n.preloader){q!==a&&n.container.removeClass(\"mfp-s-\"+q),!b&&a===\"loading\"&&(b=n.st.tLoading);var c={status:a,text:b};z(\"UpdateStatus\",c),a=c.status,b=c.text,n.preloader.html(b),n.preloader.find(\"a\").on(\"click\",function(a){a.stopImmediatePropagation()}),n.container.addClass(\"mfp-s-\"+a),q=a}},_checkIfClose:function(b){if(a(b).hasClass(m))return;var c=n.st.closeOnContentClick,d=n.st.closeOnBgClick;if(c&&d)return!0;if(!n.content||a(b).hasClass(\"mfp-close\")||n.preloader&&b===n.preloader[0])return!0;if(b!==n.content[0]&&!a.contains(n.content[0],b)){if(d&&a.contains(document,b))return!0}else if(c)return!0;return!1},_addClassToMFP:function(a){n.bgOverlay.addClass(a),n.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),n.wrap.removeClass(a)},_hasScrollBar:function(a){return(n.isIE7?t.height():document.body.scrollHeight)>(a||r.height())},_setFocus:function(){(n.st.focus?n.content.find(n.st.focus).eq(0):n.wrap).focus()},_onFocusIn:function(b){if(b.target!==n.wrap[0]&&!a.contains(n.wrap[0],b.target))return n._setFocus(),!1},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),z(f,[b,c,d]),a.each(c,function(a,c){if(c===undefined||c===!1)return!0;e=a.split(\"_\");if(e.length>1){var d=b.find(j+\"-\"+e[0]);if(d.length>0){var f=e[1];f===\"replaceWith\"?d[0]!==c[0]&&d.replaceWith(c):f===\"img\"?d.is(\"img\")?d.attr(\"src\",c):d.replaceWith('<img src=\"'+c+'\" class=\"'+d.attr(\"class\")+'\" />'):d.attr(e[1],c)}}else b.find(j+\"-\"+a).html(c)})},_getScrollbarSize:function(){if(n.scrollbarSize===undefined){var a=document.createElement(\"div\");a.id=\"mfp-sbm\",a.style.cssText=\"width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;\",document.body.appendChild(a),n.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return n.scrollbarSize}},a.magnificPopup={instance:null,proto:o.prototype,modules:[],open:function(b,c){return B(),b?b=a.extend(!0,{},b):b={},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:\"\",preloader:!0,focus:\"\",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:\"auto\",fixedBgPos:\"auto\",overflowY:\"auto\",closeMarkup:'<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&times;</button>',tClose:\"Close (Esc)\",tLoading:\"Loading...\"}},a.fn.magnificPopup=function(b){B();var c=a(this);if(typeof b==\"string\")if(b===\"open\"){var d,e=p?c.data(\"magnificPopup\"):c[0].magnificPopup,f=parseInt(arguments[1],10)||0;e.items?d=e.items[f]:(d=c,e.delegate&&(d=d.find(e.delegate)),d=d.eq(f)),n._openClick({mfpEl:d},c,e)}else n.isOpen&&n[b].apply(n,Array.prototype.slice.call(arguments,1));else b=a.extend(!0,{},b),p?c.data(\"magnificPopup\",b):c[0].magnificPopup=b,n.addGroup(c,b);return c};var D=\"inline\",E,F,G,H=function(){G&&(F.after(G.addClass(E)).detach(),G=null)};a.magnificPopup.registerModule(D,{options:{hiddenClass:\"hide\",markup:\"\",tNotFound:\"Content not found\"},proto:{initInline:function(){n.types.push(D),x(b+\".\"+D,function(){H()})},getInline:function(b,c){H();if(b.src){var d=n.st.inline,e=a(b.src);if(e.length){var f=e[0].parentNode;f&&f.tagName&&(F||(E=d.hiddenClass,F=y(E),E=\"mfp-\"+E),G=e.after(F).detach().removeClass(E)),n.updateStatus(\"ready\")}else n.updateStatus(\"error\",d.tNotFound),e=a(\"<div>\");return b.inlineElement=e,e}return n.updateStatus(\"ready\"),n._parseMarkup(c,{},b),c}}});var I,J=function(b){if(b.data&&b.data.title!==undefined)return b.data.title;var c=n.st.image.titleSrc;if(c){if(a.isFunction(c))return c.call(n,b);if(b.el)return b.el.attr(c)||\"\"}return\"\"};a.magnificPopup.registerModule(\"image\",{options:{markup:'<div class=\"mfp-figure\"><div class=\"mfp-close\"></div><figure><div class=\"mfp-img\"></div><figcaption><div class=\"mfp-bottom-bar\"><div class=\"mfp-title\"></div><div class=\"mfp-counter\"></div></div></figcaption></figure></div>',cursor:\"mfp-zoom-out-cur\",titleSrc:\"title\",verticalFit:!0,tError:'<a href=\"%url%\">The image</a> could not be loaded.'},proto:{initImage:function(){var a=n.st.image,c=\".image\";n.types.push(\"image\"),x(g+c,function(){n.currItem.type===\"image\"&&a.cursor&&s.addClass(a.cursor)}),x(b+c,function(){a.cursor&&s.removeClass(a.cursor),r.off(\"resize\"+j)}),x(\"Resize\"+c,n.resizeImage),n.isLowIE&&x(\"AfterChange\",n.resizeImage)},resizeImage:function(){var a=n.currItem;if(!a||!a.img)return;if(n.st.image.verticalFit){var b=0;n.isLowIE&&(b=parseInt(a.img.css(\"padding-top\"),10)+parseInt(a.img.css(\"padding-bottom\"),10)),a.img.css(\"max-height\",n.wH-b)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,I&&clearInterval(I),a.isCheckingImgSize=!1,z(\"ImageHasSize\",a),a.imgHidden&&(n.content&&n.content.removeClass(\"mfp-loading\"),a.imgHidden=!1))},findImageSize:function(a){var b=0,c=a.img[0],d=function(e){I&&clearInterval(I),I=setInterval(function(){if(c.naturalWidth>0){n._onImageHasSize(a);return}b>200&&clearInterval(I),b++,b===3?d(10):b===40?d(50):b===100&&d(500)},e)};d(1)},getImage:function(b,c){var d=0,e=function(){b&&(b.img[0].complete?(b.img.off(\".mfploader\"),b===n.currItem&&(n._onImageHasSize(b),n.updateStatus(\"ready\")),b.hasSize=!0,b.loaded=!0,z(\"ImageLoadComplete\")):(d++,d<200?setTimeout(e,100):f()))},f=function(){b&&(b.img.off(\".mfploader\"),b===n.currItem&&(n._onImageHasSize(b),n.updateStatus(\"error\",g.tError.replace(\"%url%\",b.src))),b.hasSize=!0,b.loaded=!0,b.loadError=!0)},g=n.st.image,h=c.find(\".mfp-img\");if(h.length){var i=document.createElement(\"img\");i.className=\"mfp-img\",b.img=a(i).on(\"load.mfploader\",e).on(\"error.mfploader\",f),i.src=b.src,h.is(\"img\")&&(b.img=b.img.clone()),i=b.img[0],i.naturalWidth>0?b.hasSize=!0:i.width||(b.hasSize=!1)}return n._parseMarkup(c,{title:J(b),img_replaceWith:b.img},b),n.resizeImage(),b.hasSize?(I&&clearInterval(I),b.loadError?(c.addClass(\"mfp-loading\"),n.updateStatus(\"error\",g.tError.replace(\"%url%\",b.src))):(c.removeClass(\"mfp-loading\"),n.updateStatus(\"ready\")),c):(n.updateStatus(\"loading\"),b.loading=!0,b.hasSize||(b.imgHidden=!0,c.addClass(\"mfp-loading\"),n.findImageSize(b)),c)}}});var K,L=function(){return K===undefined&&(K=document.createElement(\"p\").style.MozTransform!==undefined),K};a.magnificPopup.registerModule(\"zoom\",{options:{enabled:!1,easing:\"ease-in-out\",duration:300,opener:function(a){return a.is(\"img\")?a:a.find(\"img\")}},proto:{initZoom:function(){var a=n.st.zoom,d=\".zoom\",e;if(!a.enabled||!n.supportsTransition)return;var f=a.duration,g=function(b){var c=b.clone().removeAttr(\"style\").removeAttr(\"class\").addClass(\"mfp-animated-image\"),d=\"all \"+a.duration/1e3+\"s \"+a.easing,e={position:\"fixed\",zIndex:9999,left:0,top:0,\"-webkit-backface-visibility\":\"hidden\"},f=\"transition\";return e[\"-webkit-\"+f]=e[\"-moz-\"+f]=e[\"-o-\"+f]=e[f]=d,c.css(e),c},h=function(){n.content.css(\"visibility\",\"visible\")},i,j;x(\"BuildControls\"+d,function(){if(n._allowZoom()){clearTimeout(i),n.content.css(\"visibility\",\"hidden\"),e=n._getItemToZoom();if(!e){h();return}j=g(e),j.css(n._getOffset()),n.wrap.append(j),i=setTimeout(function(){j.css(n._getOffset(!0)),i=setTimeout(function(){h(),setTimeout(function(){j.remove(),e=j=null,z(\"ZoomAnimationEnded\")},16)},f)},16)}}),x(c+d,function(){if(n._allowZoom()){clearTimeout(i),n.st.removalDelay=f;if(!e){e=n._getItemToZoom();if(!e)return;j=g(e)}j.css(n._getOffset(!0)),n.wrap.append(j),n.content.css(\"visibility\",\"hidden\"),setTimeout(function(){j.css(n._getOffset())},16)}}),x(b+d,function(){n._allowZoom()&&(h(),j&&j.remove(),e=null)})},_allowZoom:function(){return n.currItem.type===\"image\"},_getItemToZoom:function(){return n.currItem.hasSize?n.currItem.img:!1},_getOffset:function(b){var c;b?c=n.currItem.img:c=n.st.zoom.opener(n.currItem.el||n.currItem);var d=c.offset(),e=parseInt(c.css(\"padding-top\"),10),f=parseInt(c.css(\"padding-bottom\"),10);d.top-=a(window).scrollTop()-e;var g={width:c.width(),height:(p?c.innerHeight():c[0].offsetHeight)-f-e};return L()?g[\"-moz-transform\"]=g.transform=\"translate(\"+d.left+\"px,\"+d.top+\"px)\":(g.left=d.left,g.top=d.top),g}}});var M=function(a){var b=n.items.length;return a>b-1?a-b:a<0?b+a:a},N=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule(\"gallery\",{options:{enabled:!1,arrowMarkup:'<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:\"Previous (Left arrow key)\",tNext:\"Next (Right arrow key)\",tCounter:\"%curr% of %total%\"},proto:{initGallery:function(){var c=n.st.gallery,d=\".mfp-gallery\",e=Boolean(a.fn.mfpFastClick);n.direction=!0;if(!c||!c.enabled)return!1;v+=\" mfp-gallery\",x(g+d,function(){c.navigateByImgClick&&n.wrap.on(\"click\"+d,\".mfp-img\",function(){if(n.items.length>1)return n.next(),!1}),t.on(\"keydown\"+d,function(a){a.keyCode===37?n.prev():a.keyCode===39&&n.next()})}),x(\"UpdateStatus\"+d,function(a,b){b.text&&(b.text=N(b.text,n.currItem.index,n.items.length))}),x(f+d,function(a,b,d,e){var f=n.items.length;d.counter=f>1?N(c.tCounter,e.index,f):\"\"}),x(\"BuildControls\"+d,function(){if(n.items.length>1&&c.arrows&&!n.arrowLeft){var b=c.arrowMarkup,d=n.arrowLeft=a(b.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,\"left\")).addClass(m),f=n.arrowRight=a(b.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,\"right\")).addClass(m),g=e?\"mfpFastClick\":\"click\";d[g](function(){n.prev()}),f[g](function(){n.next()}),n.isIE7&&(y(\"b\",d[0],!1,!0),y(\"a\",d[0],!1,!0),y(\"b\",f[0],!1,!0),y(\"a\",f[0],!1,!0)),n.container.append(d.add(f))}}),x(h+d,function(){n._preloadTimeout&&clearTimeout(n._preloadTimeout),n._preloadTimeout=setTimeout(function(){n.preloadNearbyImages(),n._preloadTimeout=null},16)}),x(b+d,function(){t.off(d),n.wrap.off(\"click\"+d),n.arrowLeft&&e&&n.arrowLeft.add(n.arrowRight).destroyMfpFastClick(),n.arrowRight=n.arrowLeft=null})},next:function(){n.direction=!0,n.index=M(n.index+1),n.updateItemHTML()},prev:function(){n.direction=!1,n.index=M(n.index-1),n.updateItemHTML()},goTo:function(a){n.direction=a>=n.index,n.index=a,n.updateItemHTML()},preloadNearbyImages:function(){var a=n.st.gallery.preload,b=Math.min(a[0],n.items.length),c=Math.min(a[1],n.items.length),d;for(d=1;d<=(n.direction?c:b);d++)n._preloadItem(n.index+d);for(d=1;d<=(n.direction?b:c);d++)n._preloadItem(n.index-d)},_preloadItem:function(b){b=M(b);if(n.items[b].preloaded)return;var c=n.items[b];c.parsed||(c=n.parseEl(b)),z(\"LazyLoad\",c),c.type===\"image\"&&(c.img=a('<img class=\"mfp-img\" />').on(\"load.mfploader\",function(){c.hasSize=!0}).on(\"error.mfploader\",function(){c.hasSize=!0,c.loadError=!0,z(\"LazyLoadError\",c)}).attr(\"src\",c.src)),c.preloaded=!0}}});var O=\"retina\";a.magnificPopup.registerModule(O,{options:{replaceSrc:function(a){return a.src.replace(/\\.\\w+$/,function(a){return\"@2x\"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=n.st.retina,b=a.ratio;b=isNaN(b)?b():b,b>1&&(x(\"ImageHasSize.\"+O,function(a,c){c.img.css({\"max-width\":c.img[0].naturalWidth/b,width:\"100%\"})}),x(\"ElementParse.\"+O,function(c,d){d.src=a.replaceSrc(d,b)}))}}}}),function(){var b=1e3,c=\"ontouchstart\"in window,d=function(){r.off(\"touchmove\"+f+\" touchend\"+f)},e=\"mfpFastClick\",f=\".\"+e;a.fn.mfpFastClick=function(e){return a(this).each(function(){var g=a(this),h;if(c){var i,j,k,l,m,n;g.on(\"touchstart\"+f,function(a){l=!1,n=1,m=a.originalEvent?a.originalEvent.touches[0]:a.touches[0],j=m.clientX,k=m.clientY,r.on(\"touchmove\"+f,function(a){m=a.originalEvent?a.originalEvent.touches:a.touches,n=m.length,m=m[0];if(Math.abs(m.clientX-j)>10||Math.abs(m.clientY-k)>10)l=!0,d()}).on(\"touchend\"+f,function(a){d();if(l||n>1)return;h=!0,a.preventDefault(),clearTimeout(i),i=setTimeout(function(){h=!1},b),e()})})}g.on(\"click\"+f,function(){h||e()})})},a.fn.destroyMfpFastClick=function(){a(this).off(\"touchstart\"+f+\" click\"+f),c&&r.off(\"touchmove\"+f+\" touchend\"+f)}}(),B()})(window.jQuery||window.Zepto)\n},{}]},{},[1]);\n"],"file":"bundle.js","sourceRoot":"/source/"}